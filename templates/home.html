<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Scoreboarding</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- CSS -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tufte-css/1.4/tufte.min.css" /> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure.css" /> -->
    
    <link rel="stylesheet" type="text/css" href="/static/css/home.css">
    <link href="static/css/bare.min.css" rel="stylesheet">
    <!-- Text box -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/static/js/input.js"></script>
    <!-- Syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.1/ace.js"></script>
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/png" href="/static/images/S.png"/>

</head>
<body>
    <div>
        <section>
            <!-- <h1 id="tufte-css">Scoreboarding Simulator</h1> -->
            <img src="/static/images/logo_small.png" alt="Logo" height="50%">
            <p class="subtitle">
            <a att href=="https://uspdigital.usp.br/jupiterweb/obterDisciplina?sgldis=SSC0114" class="subtitle">SSC0114 - Arquitetura de Computadores</a> @ ICMC - Universidade de São Paulo.</p>
    
            <p>Insira as instruções a serem escalonadas.</p>
            <form action="/simulator" method="POST">
                <div id="aceEditor">lw $2, BASEA($4)
addi $2, $2, INC1
lw $3, BASEB($4)
addi $3, $3, INC2
add $5, $2, $3
sw $5, BASEC($4)
addi $4, $4, 4
                </div>
                <input type="hidden" name="code_input" id="code_input" value="" />
                <label>Número de UFs de Memória:</label>
                <input type="text" name="ldu_units" placeholder="2" value="2"/>
                <label>Número de UFs Aritméticas:</label>
                <input type="text" name="alu_units" placeholder="2" value="2"/>
                <label>Delay das UFs de Memória:</label>
                <input type="text" name="ldu_delay" placeholder="1" value="1"/>
                <label>Delay das UFs Aritméticas:</label>
                <input type="text" name="alu_delay" placeholder="0" value="0"/>
                <br>
                <br>
                <button type="submit" id="code" href="/simulator"><span>INICIAR</span></button>
            </form>   
        </section>
    </div>

    <!-- Setup code editor -->
    <script>
        var editor = ace.edit("aceEditor");
        editor.setTheme("ace/theme/solarized_light");
        editor.session.setMode("ace/mode/assembly_x86");
    </script>

    <!-- Get input from code editor -->
    <script>
        $(document).ready(function() {
            $('#code').click(function() {
                var editor = ace.edit("aceEditor");
                code = editor.getValue();
                alert("Executando simulação...");
                document.getElementById('code_input').value = code;
            });
        });

    </script>
</body>
</html>